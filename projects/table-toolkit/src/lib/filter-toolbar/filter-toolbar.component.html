<div class="filter-toolbar-container" [formGroup]='form'>
  <div class="filter-toolbar-button-container use-icons">
    <button mat-raised-button (click)='onFilter()'>
      <mat-icon>search</mat-icon>
    </button>
    <button mat-raised-button color='primary' [matMenuTriggerFor]="menu">
      <mat-icon>add</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button (click)='addFilter(field)' mat-menu-item *ngFor='let field of remainingFilters'>{{field.label}}</button>
    </mat-menu>
  </div>
  <div class="filter-toolbar-item" *ngFor='let field of appliedFilters'>
    <ng-container [ngSwitch]='field.type'>

      <bp-number-field [formControl]='getFormControl(field)' *ngSwitchCase="'number'" [field]='field'></bp-number-field>

      <bp-text-field [formControl]='getFormControl(field)' *ngSwitchCase="'text'" [field]='field'></bp-text-field>

      <bp-select-field [formControl]='getFormControl(field)' *ngSwitchCase="'select'" [field]='field'></bp-select-field>

      <bp-date-field [formControl]='getFormControl(field)' *ngSwitchCase="'date'" [field]='field'></bp-date-field>

      <bp-checkbox-field [formControl]='getFormControl(field)' *ngSwitchCase="'checkbox'" [field]='field'>

      </bp-checkbox-field>

      <bp-radio-group [formControl]='getFormControl(field)' *ngSwitchCase="'radioGroup'" [field]='field'>

      </bp-radio-group>

      <bp-multiple-field [formControl]='getFormControl(field)' *ngSwitchCase="'multiple'" [field]='field'>

      </bp-multiple-field>

    </ng-container>
    <a class="filter-toolbar-remove" (click)='removeFilter(field)'>
      <mat-icon class="mat-warn">clear</mat-icon>
    </a>
    <div class="next-arrow">
      <mat-icon class="mat-accent">chevron_right</mat-icon>
    </div>
  </div>
</div>
